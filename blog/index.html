<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset='utf-8'>
    <title>ã—ãã‚Œã†ã„</title>
    <style>
      body {
        margin: 0;
        padding: 20px;
        background-color: #f0f0f0;
        font-family: 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', Meiryo, sans-serif;
      }
      .container {
        max-width: 800px;
        margin: 0 auto;
        background-color: #fff;
        padding-bottom: 20px;
      }
      .video-container {
        position: relative;
        width: 100%;
        padding-bottom: 56.25%; /* 16:9ã®ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯” */
        height: 0;
        overflow: hidden;
      }
      .video-container iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }
      .video-title {
        padding: 15px;
        font-size: 1.2em;
        font-weight: bold;
        color: #030303;
      }
      .info-bar {
        display: flex;
        justify-content: space-around;
        align-items: center;
        padding: 10px 0;
        border-bottom: 1px solid #ddd;
      }
      .info-item {
        text-align: center;
        color: #606060;
      }
      .info-item .value {
        font-weight: bold;
        font-size: 1.1em;
        color: #030303;
      }
      .description-box {
        padding: 15px;
        line-height: 1.6;
        color: #030303;
        white-space: pre-wrap;
      }
      .description-box a {
        color: #065fd4;
        text-decoration: none;
      }
      .description-box a:hover {
        text-decoration: underline;
      }
      #comments-section {
        padding: 15px;
      }
      .comment-item {
        border-bottom: 1px solid #eee;
        padding: 10px 0;
      }
      .comment-author {
        font-weight: bold;
        color: #030303;
      }
      .comment-content {
        color: #606060;
      }
    </style>
</head>
<body>
    <p>ã¨ã‚Šã‚ãˆãšæ¼ã£ã¦ããŸã®ã‚’æ”¹é€ ã—ãŸã‚„ã¤</p>
    <input id="word" type="text" /><input type="button" value="ç¢ºèª" onClick="getlevel()" />
    <div id="info"></div>

    <script>
        function getlevel() {
            if (document.getElementById('word').value === "0530") {
                document.cookie = "yuki=True; path=/;";
                window.location.href = "/"
            } else {
                // ã“ã“ã§ã¯ä½•ã‚‚ã—ãªã„
            }
        }
        
        function displayVideoAndComments() {
            const infoDiv = document.getElementById('info');
            infoDiv.innerHTML = `
                <div class="container">
                    <div class="video-container">
                        <iframe src="https://www.youtube-nocookie.com/embed/e-qWitCw9dU" title="ãƒã‚§ãƒªãƒ¼ãƒãƒƒãƒ— /covered by ã—ãã‚Œã†ã„" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                    </div>

                    <div class="video-title">
                        ãƒã‚§ãƒªãƒ¼ãƒãƒƒãƒ— /covered by ã—ãã‚Œã†ã„
                    </div>

                    <div class="info-bar">
                        <div class="info-item">
                            <div class="value" id="likes-count"></div>
                            <div>é«˜è©•ä¾¡æ•°</div>
                        </div>
                        <div class="info-item">
                            <div class="value" id="views-count"></div>
                            <div>è¦–è´å›æ•°</div>
                        </div>
                        <div class="info-item">
                            <div class="value" id="published-date"></div>
                            <div>å…¬é–‹æ—¥</div>
                        </div>
                    </div>

                    <div class="description-box">
ğŸ’ãƒã‚§ãƒªãƒ¼ãƒãƒƒãƒ—
åŸæ›²ï¼š   DECO*27 - ãƒã‚§ãƒªãƒ¼ãƒãƒƒãƒ— feat. åˆéŸ³ãƒŸã‚¯  
Lyrics & Music: DECO*27
Arrangement: DECO*27 & Hayato Yamamoto
Â© OTOIRO / DECO27

Mix: å®®æ²¢ç«£ä»‹
ã‚«ãƒãƒ¼æ˜ åƒï¼šã”æœ¬å®¶ã®æ˜ åƒç´ æã‚’ãŠå€Ÿã‚Šã—ã¦ã„ã¾ã™ï¼
ï¼ˆãŠæ‰‹ä¼ã„ã„ãŸã ã„ãŸæ–¹ï¼šç¥ç¨²ãŸãƒ¼ã‚€ï¼‰
ã‚¤ãƒ©ã‚¹ãƒˆ&æ­Œï¼šã—ãã‚Œã†ã„
                    </div>

                    <div id="comments-section">
                        <h3>ã‚³ãƒ¡ãƒ³ãƒˆ</h3>
                        <p>ã‚³ãƒ¡ãƒ³ãƒˆã‚’èª­ã¿è¾¼ã¿ä¸­...</p>
                    </div>
                </div>
            `;
            
            // APIå‘¼ã³å‡ºã—ã®å®Ÿè¡Œ
            const videoId = 'e-qWitCw9dU';
            const invidiousUrl = 'https://invidious.nikkosphere.com';

            Promise.all([
                fetch(`${invidiousUrl}/api/v1/videos/${videoId}`),
                fetch(`${invidiousUrl}/api/v1/comments/${videoId}`)
            ])
            .then(responses => {
                return Promise.all(responses.map(response => {
                    if (!response.ok) {
                        throw new Error('ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€‚');
                    }
                    return response.json();
                }));
            })
            .then(data => {
                const videoData = data[0];
                const commentsData = data[1];

                // å‹•ç”»æƒ…å ±ã®è¡¨ç¤º
                document.getElementById('likes-count').textContent = videoData.likeCount.toLocaleString();
                document.getElementById('views-count').textContent = videoData.viewCount.toLocaleString();
                
                const publishedDate = new Date(videoData.published * 1000);
                const options = { year: 'numeric', month: 'long', day: 'numeric' };
                document.getElementById('published-date').textContent = publishedDate.toLocaleDateString('ja-JP', options);

                // ã‚³ãƒ¡ãƒ³ãƒˆã®è¡¨ç¤º
                const commentsSection = document.getElementById('comments-section');
                const loadingText = commentsSection.querySelector('p');
                if (loadingText) {
                    loadingText.remove();
                }
                commentsData.comments.forEach(comment => {
                    const commentDiv = document.createElement('div');
                    commentDiv.className = 'comment-item';
                    commentDiv.innerHTML = `
                        <div class="comment-author">${comment.author}</div>
                        <div class="comment-content">${comment.content}</div>
                    `;
                    commentsSection.appendChild(commentDiv);
                });
            })
            .catch(error => {
                console.error('ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã‚¨ãƒ©ãƒ¼:', error);
                document.getElementById('comments-section').innerHTML = '<h3>ã‚³ãƒ¡ãƒ³ãƒˆ</h3><p>ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚</p>';
            });
        }
        
        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿å®Œäº†æ™‚ã«å‹•ç”»ã‚’è¡¨ç¤º
        document.addEventListener('DOMContentLoaded', displayVideoAndComments);
    </script>
</body>
</html>

